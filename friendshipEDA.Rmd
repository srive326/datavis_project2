---
title: "friendshipEDA.Rmd"
author: "Noah Johnson"
date: "April 22, 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(install.load)
install_load('tidyverse')
install_load('ggplot2')
install_load('networkD3')
```

## Simple Network Example

```{r}
# Simple example
Source <- c("A", "A", "A", "A", "B", "B", "C", "C", "D")
Target <- c("B", "C", "D", "J", "E", "F", "G", "H", "I")
NetworkData <- data.frame(Source, Target)

# Create graph
#simpleNetwork(NetworkData)
simpleNetwork(NetworkData, fontFamily = "sans-serif")
```

## Force Network example
```{r}
data("MisLinks")
data("MisNodes")
```

```{r}
str(MisLinks)
str(MisNodes)
```

```{r}
forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source", Target = "target", Value = "value", NodeID = "name",
             Nodesize = "size", radiusCalculation = "Math.sqrt(d.nodesize)+6", Group = "group", opacity = 1, opacityNoHover = TRUE, width = 1000, height = 700, fontSize = 12)
```


```{r}
load(file = "data/friendsmatrix.Rda")
friends <- as.data.frame(new)
str(friends)
```

```{r}
n <- nrow(friends)

colnames(friends)

friendNodes <- data.frame(subjectID = colnames(friends), size = 1, group = 1)

source <- c()
target <- c()
k <- 1
for (i in 1:n) {
  for (j in 1:n) {
    if (!is.na(friends[i,j])) {
      source[k] <- i-1
      target[k] <- j-1
      k <- k + 1
    }
  }
}
friendLinks <- data.frame(source = source, target = target, value = 1)

```

```{r}
forceNetwork(Links = friendLinks, Nodes = friendNodes, Source = "source", Target = "target", Value = "value", NodeID = "subjectID", Nodesize = "size", Group = "group", arrows = TRUE, legend = TRUE, zoom = T, opacity = 1, opacityNoHover = TRUE, width = 1000, height = 700, fontSize = 12)
```